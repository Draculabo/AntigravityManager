# UI 组件能力

## ADDED Requirements

### Requirement: 系统必须提供主应用程序布局

系统应提供带侧边栏导航和内容区域的一致布局。

#### Scenario: 显示主布局

**Given** 应用程序正在运行
**When** 主窗口加载
**Then** 系统应显示：

1. 左侧带导航项的侧边栏
2. 右侧显示当前路由的内容区域
3. 侧边栏标题中的 Antigravity 品牌

#### Scenario: 在页面之间导航

**Given** 主布局已显示
**When** 用户点击导航项
**Then** 系统应：

1. 高亮显示所选导航项
2. 在内容区域加载相应页面
3. 更新浏览器历史记录（用于路由）

***

### Requirement: 系统必须显示状态栏组件

系统应显示显示 Antigravity 应用程序运行状态的状态栏。

#### Scenario: 显示运行状态

**Given** Antigravity 正在运行
**When** 状态栏渲染
**Then** 系统应显示：

1. 绿色背景颜色
2. 绿色的勾选圆圈图标
3. 绿色文本"Antigravity 正在后台运行中"

#### Scenario: 显示停止状态

**Given** Antigravity 未运行
**When** 状态栏渲染
**Then** 系统应显示：

1. 红色背景颜色
2. 红色的暂停圆圈图标
3. 红色文本"Antigravity 服务已停止 (点击启动)"

#### Scenario: 切换应用程序状态

**Given** 状态栏已显示
**When** 用户点击状态栏
**Then** 系统应根据当前状态启动或停止 Antigravity

***

### Requirement: 系统必须为每个备份显示账号卡片

系统应将每个账号备份显示为带有相关信息和操作的卡片。

#### Scenario: 显示账号卡片

**Given** 存在账号备份
**When** 账号列表渲染
**Then** 每个账号卡片应显示：

1. 带有账号名称首字母的头像
2. 粗体的账号名称
3. 账号邮箱
4. 最后使用时间戳
5. 如果这是当前活动账号，则显示"当前"徽章
6. 带有切换和删除操作的菜单按钮

#### Scenario: 高亮显示当前账号

**Given** Antigravity 中有当前活动账号
**When** 账号列表渲染
**Then** 当前账号的卡片应：

1. 显示"当前"徽章
2. 头像使用主色
3. 显示细微的阴影效果

#### Scenario: 账号卡片的悬停效果

**Given** 账号卡片已显示
**When** 用户悬停在卡片上
**Then** 卡片应：

1. 增加阴影模糊半径
2. 增加阴影偏移
3. 平滑地动画过渡

***

### Requirement: 系统必须提供账号列表页面

系统应在可滚动列表中显示所有账号备份。

#### Scenario: 显示带备份的账号列表

**Given** 存在多个账号备份
**When** 主页加载
**Then** 系统应显示：

1. 带有"账号列表"标题的标题
2. 显示备份总数的徽章
3. "备份当前"按钮
4. 账号卡片的可滚动列表
5. 按最后使用时间戳排序的账号（最近的优先）

#### Scenario: 显示空状态

**Given** 不存在账号备份
**When** 主页加载
**Then** 系统应显示：

1. 指示无数据的图标
2. 文本"暂无备份记录"
3. "备份当前"按钮以创建第一个备份

***

### Requirement: 系统必须提供设置页面

系统应提供应用程序偏好设置的设置页面。

#### Scenario: 显示设置页面

**Given** 用户导航到设置
**When** 设置页面加载
**Then** 系统应显示：

1. 主题选择（浅色/深色/系统）
2. 应用程序版本信息
3. 带有项目信息的关于部分

#### Scenario: 更改主题

**Given** 设置页面已显示
**When** 用户选择不同的主题
**Then** 系统应：

1. 立即应用新主题
2. 更新所有 UI 组件以使用新主题颜色
3. 持久化主题偏好

***

### Requirement: 系统必须提供确认对话框

系统应为破坏性操作提供确认对话框。

#### Scenario: 显示确认对话框

**Given** 用户发起破坏性操作（例如删除账号）
**When** 需要确认
**Then** 系统应显示带有以下内容的对话框：

1. 描述操作的标题
2. 解释后果的消息
3. "取消"按钮以中止
4. 红色的破坏性操作按钮（例如"删除"）

#### Scenario: 确认操作

**Given** 确认对话框已显示
**When** 用户点击破坏性操作按钮
**Then** 系统应：

1. 执行操作
2. 关闭对话框
3. 更新 UI 以反映更改

#### Scenario: 取消操作

**Given** 确认对话框已显示
**When** 用户点击"取消"或关闭对话框
**Then** 系统应关闭对话框而不执行操作

***

### Requirement: 系统必须显示用户友好的错误消息

系统应在操作失败时显示用户友好的错误消息。

#### Scenario: 显示错误提示

**Given** 操作失败
**When** 错误被捕获
**Then** 系统应：

1. 显示带有错误消息的提示通知
2. 使用红色表示错误
3. 5 秒后自动关闭提示
4. 允许手动关闭

#### Scenario: 显示错误对话框

**Given** 发生严重错误
**When** 错误需要用户注意
**Then** 系统应：

1. 显示带有错误消息的模态对话框
2. 提供"确定"按钮以关闭
3. 记录完整的错误详细信息以供调试

***

### Requirement: 系统必须适应不同的窗口大小

系统应适应不同的窗口大小。

#### Scenario: 最小窗口大小

**Given** 应用程序窗口
**When** 用户调整窗口大小
**Then** 系统应强制执行 800x600 像素的最小大小

#### Scenario: 布局适应

**Given** 窗口已调整大小
**When** 宽度改变
**Then** 系统应：

1. 将侧边栏宽度保持在 200px
2. 调整内容区域以填充剩余空间
3. 为溢出内容启用滚动
